{% extends 'nko/nko_base.html' %} {% load static %} {# Заголовок страницы #} 
{% block title %}Добавить НКО - Карта добрых дел{% endblock %} 
{# Заголовок формы #} 
{% block form_title %}Добавить новое НКО{% endblock %} {# Содержимое формы #}
{% block form_content %}
<form method="post" enctype="multipart/form-data" class="w-full" id="ngo-form">
  {% csrf_token %} {{ form.non_field_errors }}

  <div class="form-grid">
    {# Основная колонка #}
    <div class="space-y-4 min-w-0">
      {# Название НКО #}
      <div>
        <label
          class="block text-white text-sm font-medium mb-2 dark:text-gray-200"
        >
          Название НКО
        </label>
        {{ form.name }} {{ form.name.errors }}
      </div>

      {# Категории #}
      <div>
        <label
          class="block text-white text-sm font-medium mb-2 dark:text-gray-200"
        >
          Направление деятельности (можно выбрать несколько)
        </label>
        <div
          class="categories-container bg-white bg-opacity-90 rounded-xl border-2 border-white p-3 sm:p-4 shadow-md dark:bg-gray-700 dark:border-gray-600"
        >
          {{ form.categories }} {{ form.categories.errors }}
        </div>
      </div>

      {# Описание #}
      <div>
        <label
          class="block text-white text-sm font-medium mb-2 dark:text-gray-200"
        >
          Описание НКО
        </label>
        {{ form.description }} {{ form.description.errors }}
      </div>

      {# Функционал волонтеров #}
      <div>
        <label
          class="block text-white text-sm font-medium mb-2 dark:text-gray-200"
        >
          Функционал волонтеров (опционально)
        </label>
        {{ form.volunteer_functions }} {{ form.volunteer_functions.errors }}
      </div>

      {# Адрес #}
      <div>
        <label
          class="block text-white text-sm font-medium mb-2 dark:text-gray-200"
        >
          Адрес
        </label>
        {{ form.address }} {{ form.address.errors }}
      </div>
    </div>

    {# Боковая колонка #}
    <aside class="space-y-4 min-w-0">
      {# Город #}
      <div class="autocomplete">
        <label
          class="block text-white text-sm font-medium mb-2 dark:text-gray-200"
        >
          Город
        </label>
        {{ form.city }} {{ form.city.errors }}
      </div>

      {# Логотип #}
      <div>
        <label
          class="block text-white text-sm font-medium mb-2 dark:text-gray-200"
        >
          Логотип (опционально)
        </label>
        <div
          class="file-input-container bg-white bg-opacity-90 rounded-xl border-2 border-white p-3 shadow-md dark:bg-gray-700 dark:border-gray-600"
        >
          {{ form.logo }} {{ form.logo.errors }}
          <div
            id="logo-validation"
            class="file-validation-message"
            aria-live="polite"
          ></div>
          <p class="text-xs text-gray-700 mt-2 italic dark:text-gray-300">
            * Допустимые форматы: PNG, JPG и JPEG
          </p>
        </div>
      </div>

      {# Сайт #}
      <div>
        <label
          class="block text-white text-sm font-medium mb-2 dark:text-gray-200"
        >
          Сайт (опционально)
        </label>
        {{ form.website }} {{ form.website.errors }}
      </div>

      {# Соцсеть #}
      <div>
        <label
          class="block text-white text-sm font-medium mb-2 dark:text-gray-200"
        >
          Соцсеть (опционально)
        </label>
        {{ form.other_social }} {{ form.other_social.errors }}
      </div>

      {# Телефон #}
      <div>
        <label
          class="block text-white text-sm font-medium mb-2 dark:text-gray-200"
        >
          Контактный телефон (опционально)
        </label>
        {{ form.phone }} {{ form.phone.errors }}
      </div>

      {# Кнопки #}
      <div class="space-y-3">
        <button
          type="submit"
          class="w-full py-3 bg-white text-[#15256D] font-bold text-base sm:text-lg rounded-xl transition-all duration-300 shadow-lg dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500 hover:shadow-xl active:scale-95"
        >
          Отправить на модерацию
        </button>

        <a
          href="{% url 'index' %}"
          class="block text-center py-2 bg-white/20 text-white rounded-xl hover:opacity-90"
        >
          Вернуться на главную
        </a>
      </div>
    </aside>
  </div>
</form>
{% endblock %}
