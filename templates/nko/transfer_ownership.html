{% extends 'nko/nko_base.html' %} {% load static %} {# Заголовок страницы #} 
{% block title %}Передача прав - {{ nko.name }}{% endblock %} {# Заголовок формы #}
{% block form_title %}Передача прав на НКО{% endblock %} {# Содержимое формы #}
{% block form_content %}
<form method="post" class="w-full">
  {% csrf_token %} {{ form.non_field_errors }}

  <div class="form-grid">
    {# Основная колонка #}
    <div class="space-y-4 min-w-0">
      {# Текущий владелец (только чтение) #}
      <div>
        <label
          class="block text-white text-sm font-medium mb-2 dark:text-gray-200"
        >
          Текущий владелец
        </label>
        <input
          type="text"
          readonly
          class="w-full rounded-lg p-2 bg-white/20 text-white border border-white/30"
          value="{{ nko.owner.get_full_name|default:nko.owner.username }}"
        />
      </div>

      {# Форма - все поля подряд #} {% for field in form %}
      <div>
        <label
          class="block text-white text-sm font-medium mb-2 dark:text-gray-200"
        >
          {{ field.label }}
        </label>
        {{ field }} {{ field.errors }} {% if field.help_text %}
        <p class="text-xs text-white/80 mt-1">{{ field.help_text }}</p>
        {% endif %}
      </div>
      {% endfor %}
    </div>

    {# Боковая колонка - кнопки и предупреждение #}
    <aside class="space-y-4 min-w-0">
      {# Кнопки #}
      <div class="space-y-3">
        <button
          type="submit"
          class="w-full py-3 bg-white text-[#15256D] font-bold text-base sm:text-lg rounded-xl transition-all duration-300 shadow-lg dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500 hover:shadow-xl active:scale-95"
        >
          Отправить запрос на передачу
        </button>

        <a
          href="{% url 'index' %}"
          class="block text-center py-2 bg-white/20 text-white rounded-xl hover:opacity-90"
        >
          Отмена
        </a>
      </div>

      {# Предупреждение #}
      <div
        class="rounded-md bg-yellow-50 p-3 text-sm text-yellow-800 dark:bg-yellow-50 dark:text-yellow-800"
      >
        <strong>Внимание!</strong> После передачи прав вы больше не сможете
        редактировать эту НКО. Запрос будет отправлен на модерацию
        администраторам.
      </div>
    </aside>
  </div>
</form>
{% endblock %}
