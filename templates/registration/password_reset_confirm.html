{% extends 'registration/auth_base.html' %}
{% load i18n %}

{% block title %}–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è - {{ block.super }}{% endblock %}

{% block icon_alt %}üîê{% endblock %}

{% block form_title %}–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è{% endblock %}

{% block form_content %}
{% if validlink %}
    <div class="mb-6">
        <p class="text-gray-600 dark:text-gray-400 text-center">
            –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –¥–≤–∞–∂–¥—ã –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.
        </p>
    </div>

    <form method="post" class="space-y-6">
        {% csrf_token %}
        
        <div>
            <label for="id_new_password1" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                –ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å
            </label>
            <input 
                type="password" 
                id="id_new_password1"
                name="new_password1" 
                class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 
                       bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                       focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                required
                autocomplete="new-password">
            {% if form.new_password1.errors %}
                <p class="mt-2 text-sm text-red-600 dark:text-red-400">
                    {{ form.new_password1.errors.0 }}
                </p>
            {% endif %}
        </div>

        <div>
            <label for="id_new_password2" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
            </label>
            <input 
                type="password" 
                id="id_new_password2"
                name="new_password2" 
                class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 
                       bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                       focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                required
                autocomplete="new-password">
            {% if form.new_password2.errors %}
                <p class="mt-2 text-sm text-red-600 dark:text-red-400">
                    {{ form.new_password2.errors.0 }}
                </p>
            {% endif %}
        </div>

        <button 
            type="submit" 
            class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white 
                   font-medium py-3 px-6 rounded-lg
                   hover:from-blue-600 hover:to-purple-700 
                   focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                   transform transition duration-200 hover:scale-[1.02]">
            –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
        </button>
    </form>
{% else %}
    <div class="text-center space-y-6">
        <div class="mx-auto w-20 h-20 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4">
            <svg class="w-10 h-10 text-red-600 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
        </div>
        
        <div>
            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-3">
                –ù–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞
            </h3>
            <p class="text-gray-600 dark:text-gray-400 mb-6">
                –°—Å—ã–ª–∫–∞ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞. –í–æ–∑–º–æ–∂–Ω–æ, –æ–Ω–∞ —É–∂–µ –±—ã–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –∏–ª–∏ –∏—Å—Ç–µ–∫ —Å—Ä–æ–∫ –µ—ë –¥–µ–π—Å—Ç–≤–∏—è.
            </p>
        </div>

        <a href="{% url 'password_reset' %}" 
           class="inline-block w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white 
                  font-medium py-3 px-6 rounded-lg
                  hover:from-blue-600 hover:to-purple-700 
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                  transform transition duration-200 hover:scale-[1.02]">
            –ó–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤—É—é —Å—Å—ã–ª–∫—É
        </a>
    </div>
{% endif %}
{% endblock %}
