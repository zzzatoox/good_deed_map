{% extends 'registration/auth_base.html' %} {% load i18n static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/captcha.css' %}">
{% endblock %}

{% block title %}–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è - {{ block.super }}{% endblock %}
{% block icon_alt %}üîë{% endblock %} 
{% block form_title %}–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è{% endblock %}
{% block form_content %}
<div class="mb-6">
  <p class="text-gray-600 dark:text-gray-400 text-center">
    –í–≤–µ–¥–∏—Ç–µ –≤–∞—à email, –∏ –º—ã –≤—ã—à–ª–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è.
  </p>
</div>

<form method="post" class="space-y-6">
  {% csrf_token %}

  {# –û–±—â–∏–µ –æ—à–∏–±–∫–∏ —Ñ–æ—Ä–º—ã #}
  {% if form.non_field_errors %}
  <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-3 rounded dark:bg-red-900/30 dark:text-red-200">
    {% for error in form.non_field_errors %}
    <p>{{ error }}</p>
    {% endfor %}
  </div>
  {% endif %}

  {# Email –ø–æ–ª–µ #}
  <div>
    <label for="{{ form.email.id_for_label }}" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
      {{ form.email.label }}
    </label>
    {{ form.email }}
    {% if form.email.errors %}
    <div class="mt-1 text-red-200 text-sm bg-red-500/20 border border-red-400 rounded p-2">
      {% for error in form.email.errors %}
      <p>‚ùå {{ error }}</p>
      {% endfor %}
    </div>
    {% endif %}
  </div>

  {# –ö–∞–ø—á–∞ #}
  <div>
    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
      {{ form.captcha.label }}
    </label>
    <div class="captcha-wrapper">
      {{ form.captcha }}
    </div>
    {% if form.captcha.help_text %}
    <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">{{ form.captcha.help_text }}</p>
    {% endif %}
    {% if form.captcha.errors %}
    <div class="mt-1 text-red-200 text-sm bg-red-500/20 border border-red-400 rounded p-2">
      {% for error in form.captcha.errors %}
      <p>‚ùå {{ error }}</p>
      {% endfor %}
    </div>
    {% endif %}
  </div>

  <button
    type="submit"
    class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-medium py-3 px-6 rounded-lg hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transform transition duration-200 hover:scale-[1.02]"
  >
    –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
  </button>

  <div class="text-center mt-6">
    <a
      href="{% url 'login' %}"
      class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors"
    >
      ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤—Ö–æ–¥—É
    </a>
  </div>
</form>
{% endblock %}
