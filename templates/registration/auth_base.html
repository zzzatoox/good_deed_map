{% extends 'base.html' %} {% load static %} {% block extra_css %}
<style>
  /* Убираем горизонтальную прокрутку */
  html,
  body {
    overflow-x: hidden;
    max-width: 100vw;
  }
  
  /* Сдвигаем сообщения вниз, чтобы не перекрывали иконку */
  #messages-container {
    top: 200px !important; /* Иконка 250px высотой, половина выступает = 125px + отступ */
  }
  
  /* На маленьких экранах возвращаем стандартную позицию */
  @media (max-width: 640px) {
    #messages-container {
      top: 80px !important;
    }
  }
</style>
{% endblock %} {# Фон страницы - серый как на формах #} 
{% block body_class%}bg-gray-100 dark:bg-gray-900{% endblock %} 
{% block header %} 
{# Упрощенный хедер для страниц авторизации (без кнопок пользователя) #}
<header
  class="bg-white dark:bg-gray-800 shadow-sm py-3 px-5 flex items-center justify-between z-50 sticky top-0"
>
  <div class="flex items-center gap-8 md:gap-12">
    {# Логотип #}
    <div class="flex items-center gap-2">
      <a href="{% url 'index' %}" class="flex">
        <img
          src="{% static 'images/LOGO_ROSATOM.svg' %}"
          alt="Rosatom Logo"
          class="h-8 md:h-9 dark:brightness-0 dark:invert transition-all"
        />
      </a>
    </div>

    {# Навигация #}
    <nav class="hidden md:block">
      <ul class="flex items-center gap-2">
        <li>
          <a
            href="{% url 'index' %}"
            class="text-sm font-medium text-gray-800 dark:text-gray-200 hover:text-[#025EA1] hover:underline p-2"
          >
            Карта добрых дел
          </a>
        </li>
      </ul>
    </nav>
  </div>

  {# Кнопка переключения темы #}
  <nav class="flex items-center gap-4">
    <button
      id="theme-toggle"
      class="p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-yellow-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"
      aria-label="Переключить тему"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-5 w-5 block dark:hidden"
        viewBox="0 0 20 20"
        fill="currentColor"
      >
        <path
          d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
        />
      </svg>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-5 w-5 hidden dark:block"
        viewBox="0 0 20 20"
        fill="currentColor"
      >
        <path
          fill-rule="evenodd"
          d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
          clip-rule="evenodd"
        />
      </svg>
    </button>
  </nav>
</header>
{% endblock %} {# Отключаем футер на auth страницах #} {% block footer %}
{%endblock %} {# Основной контент #} {% block content %} {# Фоновая карусель #}
{% include 'partials/background_carousel.html' %} {# Основной контент формы #}
<main
  class="relative z-10 flex items-center justify-center min-h-[calc(100vh-80px)] py-4"
>
  {# Карточка с формой #}
  <div
    class="relative w-[450px] p-6 pt-[80px] pb-8 bg-gradient-to-r from-[#15256D] to-[#4495D1] rounded-3xl shadow-xl overflow-visible flex flex-col items-center dark:from-gray-800 dark:to-gray-700"
  >
    {# Иконка (250x250) - выступает сверху #}
    <div
      class="absolute -top-[125px] left-1/2 -translate-x-1/2 z-10 flex items-center justify-center"
    >
      <img
        src="{% static 'images/rosatom_icon.png' %}"
        alt="{% block icon_alt %}Иконка{% endblock %}"
        class="w-[250px] h-[250px] rounded-full object-cover"
      />
    </div>

    {# Заголовок - переопределяется в дочерних шаблонах #}
    <h2
      class="text-3xl font-extrabold text-white mb-6 text-center drop-shadow-lg dark:text-gray-100"
    >
      {% block form_title %}Форма{% endblock %}
    </h2>

    {# Содержимое формы - переопределяется в дочерних шаблонах #} 
    {% block form_content %}{% endblock %}
  </div>
</main>
{% endblock %}
