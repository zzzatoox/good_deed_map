{% extends 'registration/auth_base.html' %} {% load static %}
{% block title %}Регистрация - Карта добрых дел{% endblock %} 
{% block icon_alt %}Иконка регистрации{% endblock %} 
{% block form_title %}Регистрация{% endblock %}
{% block form_content %}
<form method="post" class="w-full space-y-4">
  {% csrf_token %}
  
  {# Ошибки формы #}
  {% if form.non_field_errors %}
  <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-3 rounded dark:bg-red-900/30 dark:text-red-200">
    {{ form.non_field_errors }}
  </div>
  {% endif %}
  
  {# Email #}
  <div>
    {{ form.email }}
    {% if form.email.errors %}
    <div class="mt-1 text-red-200 text-sm bg-red-500/20 border border-red-400 rounded p-2">
      {% for error in form.email.errors %}
      <p>❌ {{ error }}</p>
      {% endfor %}
    </div>
    {% endif %}
  </div>

  {# Пароль #}
  <div>
    {{ form.password1 }}
    {% if form.password1.errors %}
    <div class="mt-1 text-red-200 text-sm bg-red-500/20 border border-red-400 rounded p-2 space-y-1">
      {% for error in form.password1.errors %}
      <p>❌ {{ error }}</p>
      {% endfor %}
    </div>
    {% endif %}
  </div>

  {# Подтверждение пароля #}
  <div>
    {{ form.password2 }}
    {% if form.password2.errors %}
    <div class="mt-1 text-red-200 text-sm bg-red-500/20 border border-red-400 rounded p-2">
      {% for error in form.password2.errors %}
      <p>❌ {{ error }}</p>
      {% endfor %}
    </div>
    {% endif %}
  </div>

  {# Имя #}
  <div>
    {{ form.first_name }}
    {% if form.first_name.errors %}
    <div class="mt-1 text-red-200 text-sm bg-red-500/20 border border-red-400 rounded p-2">
      {% for error in form.first_name.errors %}
      <p>❌ {{ error }}</p>
      {% endfor %}
    </div>
    {% endif %}
  </div>

  {# Фамилия #}
  <div>
    {{ form.last_name }}
    {% if form.last_name.errors %}
    <div class="mt-1 text-red-200 text-sm bg-red-500/20 border border-red-400 rounded p-2">
      {% for error in form.last_name.errors %}
      <p>❌ {{ error }}</p>
      {% endfor %}
    </div>
    {% endif %}
  </div>

  {# Отчество #}
  <div>
    {{ form.patronymic }}
    {% if form.patronymic.errors %}
    <div class="mt-1 text-red-200 text-sm bg-red-500/20 border border-red-400 rounded p-2">
      {% for error in form.patronymic.errors %}
      <p>❌ {{ error }}</p>
      {% endfor %}
    </div>
    {% endif %}
  </div>

  {# Кнопка регистрации #}
  <button
    type="submit"
    class="w-full py-3 bg-white text-[#15256D] font-bold text-xl rounded-xl transition-all duration-300 shadow-lg mt-6 dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500 hover:scale-105 hover:shadow-xl active:scale-95"
  >
    Зарегистрироваться
  </button>

  {# Ссылка на вход #}
  <div class="text-center">
    <a
      href="{% url 'login' %}"
      class="text-white text-base mt-4 opacity-90 hover:opacity-100 hover:underline transition duration-200 text-center dark:text-gray-200"
    >
      Уже есть аккаунт?
    </a>
  </div>
</form>
{% endblock %}
