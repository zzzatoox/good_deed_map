{% load static %} 
{# Компонент: Хедер для страниц форм НКО Упрощённая версия хедера без лишних элементов Используется на страницах add_nko, edit_nko, transfer_ownership #}

<header
  class="bg-white dark:bg-gray-800 shadow-sm py-3 px-4 sm:px-6 flex items-center justify-between z-50 sticky top-0"
>
  {# Левая часть - логотип и навигация #}
  <div class="flex items-center gap-6 md:gap-12">
    {# Логотип #}
    <div class="flex items-center gap-2">
      <a href="{% url 'index' %}" class="flex">
        <img
          src="{% static 'images/LOGO_ROSATOM.svg' %}"
          alt="Rosatom Logo"
          class="logo-light h-6 md:h-7"
        />
        <img
          src="{% static 'images/rosatom-logo.svg' %}"
          alt="Rosatom Logo White"
          class="logo-dark h-6 md:h-7 hidden dark:block"
        />
      </a>
    </div>

    {# Навигация #}
    <nav class="hidden md:block">
      <ul class="flex items-center gap-2">
        <li>
          <a
            href="{% url 'index' %}"
            class="text-sm font-medium text-gray-800 dark:text-gray-200 hover:text-[#025EA1] hover:underline p-2 nav-home-link"
          >
            Карта добрых дел
          </a>
        </li>
      </ul>
    </nav>
  </div>

  {# Правая часть - theme toggle и пользователь #}
  <nav class="flex items-center gap-4">
    {# Кнопка переключения темы #}
    <button
      id="theme-toggle"
      class="p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-yellow-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"
      aria-label="Переключить тему"
    >
      {# Иконка луны (светлая тема) #}
      <svg
        id="moon-icon"
        xmlns="http://www.w3.org/2000/svg"
        class="h-5 w-5"
        viewBox="0 0 20 20"
        fill="currentColor"
      >
        <path
          d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
        />
      </svg>

      {# Иконка солнца (тёмная тема) #}
      <svg
        id="sun-icon"
        xmlns="http://www.w3.org/2000/svg"
        class="h-5 w-5 hidden"
        viewBox="0 0 20 20"
        fill="currentColor"
      >
        <path
          fill-rule="evenodd"
          d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
          clip-rule="evenodd"
        />
      </svg>
    </button>

    {# Меню пользователя #} {% if user.is_authenticated %}
    <span
      class="hidden sm:inline-block text-sm text-gray-700 dark:text-gray-200 mr-3"
    >
      Привет, {{ user.first_name|default:user.username }}!
    </span>
    <a
      href="{% url 'logout' %}"
      class="ml-3 inline-block py-2 px-4 bg-white dark:bg-gray-700 text-[#15256D] dark:text-gray-200 font-medium rounded-md shadow-sm border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors logout-btn"
    >
      Выйти
    </a>
    {% else %}
    <a
      href="{% url 'login' %}"
      class="ml-3 inline-block py-2 px-4 bg-white dark:bg-gray-700 text-[#15256D] dark:text-gray-200 font-medium rounded-md shadow-sm border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors logout-btn"
    >
      Войти
    </a>
    {% endif %}
  </nav>
</header>
