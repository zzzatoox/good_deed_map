/**
 * Стили для главной страницы - Карта добрых дел
 * 
 * Содержит:
 * - Кастомные скроллбары
 * - Layouts для карты и фильтров
 * - Стили для темной темы
 * - Адаптивность
 * - Анимации для сообщений
 */

/* ========================================
   Анимации
   ======================================== */

@keyframes slide-down {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-down {
  animation: slide-down 0.3s ease-out;
}

/* ========================================
   Кастомные скроллбары
   ======================================== */

.scrollbar-thin::-webkit-scrollbar {
  height: 6px;
  width: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 3px;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background-color: rgb(209, 213, 219); /* gray-300 */
  border-radius: 3px;
  transition: background-color 0.2s;
}

.dark .scrollbar-thin::-webkit-scrollbar-thumb {
  background-color: rgb(75, 85, 99); /* gray-600 */
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background-color: rgb(156, 163, 175); /* gray-400 */
}

.dark .scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background-color: rgb(107, 114, 128); /* gray-500 */
}

/* ========================================
   Layouts - Главная страница
   ======================================== */

/**
 * Главный контейнер с картой и фильтрами
 * Фиксированная высота = 100vh минус высота хедера
 */
.main-container {
  height: calc(100vh - 64px);
  overflow: hidden;
}

/**
 * Левая панель с фильтрами
 * На десктопе фиксированная ширина 380px
 */
@media (min-width: 768px) {
  .left-panel {
    width: 380px;
    min-width: 380px;
    max-width: 380px;
  }

  .map-container {
    flex: 1; /* Карта занимает оставшееся пространство */
  }
}

/* ========================================
   Стили элементов
   ======================================== */

/**
 * Выбранная карточка НКО в списке
 */
.point-item {
  border-left: 3px solid transparent;
  transition: background-color 0.2s, border-color 0.2s;
}

.point-item.selected {
  background-color: rgba(59, 130, 246, 0.12); /* blue-500 с прозрачностью */
  border-left-color: rgb(59, 130, 246); /* blue-500 */
}

.point-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

/**
 * Активная категория фильтра
 */
.category-filter.active {
  opacity: 1;
}

.category-filter:not(.active) {
  opacity: 0.5;
}

/**
 * Ограничение текста категорий (многострочное с ellipsis)
 */
.category-filter span {
  word-break: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.3;
  max-height: 2.6em; /* 2 строки */
}

/* ========================================
   Яндекс Карты - Скрытие элементов
   ======================================== */

/**
 * Скрываем стандартный поисковый бокс Яндекс.Карт
 * Используем свой кастомный поиск в левой панели
 */
.ymaps-2-1-79-searchbox,
.ymaps-2-1-searchbox,
.ymaps-searchbox,
.ymaps-2-1-79-controls__control_toolbar .ymaps-2-1-79-searchbox,
.ymaps-2-1-79-controls__control {
  display: none !important;
}

/* ========================================
   Логотипы - Переключение тем
   ======================================== */

/**
 * Стили логотипа перенесены в base.html для использования на всех страницах
 */
